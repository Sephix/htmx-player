{{ define "components/track/like" }}
  {{ if . }}
    <svg
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 24 24"
      fill="#f43f5e"
      class="w-6 h-6 like-svg"
    >
      <path
        d="M11.645 20.91l-.007-.003-.022-.012a15.247 15.247 0 01-.383-.218 25.18 25.18 0 01-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0112 5.052 5.5 5.5 0 0116.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 01-4.244 3.17 15.247 15.247 0 01-.383.219l-.022.012-.007.004-.003.001a.752.752 0 01-.704 0l-.003-.001z"
      />
    </svg>
  {{ else }}
    <svg
      xmlns="http://www.w3.org/2000/svg"
      fill="none"
      viewBox="0 0 24 24"
      stroke-width="1.5"
      stroke="currentColor"
      class="w-6 h-6 like-svg"
    >
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z"
      />
    </svg>
  {{ end }}
  <svg
    xmlns="http://www.w3.org/2000/svg"
    fill="none"
    viewBox="0 0 24 24"
    stroke-width="1.5"
    stroke="currentColor"
    class="w-6 h-6 like-loader-spinner"
  >
    <path
      stroke-linecap="round"
      stroke-linejoin="round"
      d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"
    />
  </svg>
{{ end }}
{{ define "components/albumContent.html" }}
  <content
    id="content"
    class="flex flex-col gap-24 px-48 pb-32 grow"
    hx-get="/album/{{ .album.Id }}"
    hx-swap="outerHTML"
    hx-trigger="liking-current-update from:body, liking-update from:body"
    hx-select="#content"
    hx-disinherit="hx-select hx-trigger hx-swap"
  >
    <div class="flex items-center gap-8">
      <img
        style="view-transition-name: hero-{{ .album.Id }}"
        class="w-80 h-80 rounded-md drop-shadow-lg"
        src="/image/{{ .album.Img }}"
        lazy
      />
      <div class="flex flex-col items-start gap-4 text-zinc-50">
        <h1 class="font-bold text-4xl">{{ .album.Name }}</h1>
        <span
          class="font-medium flex items-center gap-4 hover:underline cursor-pointer"
          hx-get="/artist/{{ .artist.Id }}"
          hx-target="#main"
          hx-select="#main"
          hx-swap="outerHTML transition:true"
          hx-push-url="true"
          hx-indicator="#hx-progress-bar"
        >
          <img
            class="w-10 h-10 rounded-full drop-shadow-lg"
            src="/image/{{ .artist.Img }}"
          />
          {{ .artist.Name }}</span
        >
        <span class="text-zinc-400"
          >{{ len .tracks }} tracks - {{ parseAlbumDuration .tracks }} -
          {{ .album.ReleaseDate }}</span
        >
      </div>
    </div>
    <div class="flex flex-col text-zinc-400">
      <div class="flex border-b-zinc-600 border-b h-8 mb-8 pb-12">
        <h2 class="basis-2/3 font-semibold">Tracks</h2>
        <span class="basis-32"> </span>
        <span class="basis-32">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            class="w-6 h-6"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"
            />
          </svg>
        </span>
      </div>
      <div class="flex flex-col gap-4">
        {{ $album := .album }}
        {{ range $i, $track := .tracks }}
          <div class="flex grow items-center hover:bg-zinc-700 rounded-s p-2">
            <span
              class="basis-2/3 flex items-center gap-4 text-lg text-zinc-200 hover:underline"
            >
              <span
                class="flex gap-4 items-center cursor-pointer"
                hx-get="/player/{{ $album.Id }}?track={{ $track.Id }}"
                hx-target="#player"
                hx-select="#player"
                hx-swap="outerHTML"
              >
                <img
                  class="w-12 h-12 rounded-sm drop-shadow-lg"
                  src="/image/{{ $track.Img }}"
                />
                {{ add $i 1 }}. {{ $track.Title }}</span
              >
            </span>
            <button
              id="like-container"
              class="basis-32 cursor-pointer like-container"
              hx-put="/track/like/{{ $track.Id }}"
              hx-swap="innerHTML"
              hx-trigger="click"
            >
              {{ template "components/track/like" $track.IsLiked }}
            </button>
            <span class="basis-1/6 font-semibold text-md text-zinc-100">
              {{ parseDuration $track.Duration }}
            </span>
          </div>
        {{ end }}
      </div>
    </div>
  </content>
{{ end }}
