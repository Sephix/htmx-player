{{ define "components/artistContent.html" }}
<content id="content" class="flex flex-col gap-24 px-96">
  <div class="flex items-center gap-8">
    <img
      style="view-transition-name: hero-{{ .artist.Id }}"
      class="w-80 h-80 rounded-md drop-shadow-lg"
      src="/image/{{ .artist.Img }}"
    />
    <div class="flex flex-col items-start gap-2 text-zinc-50">
      <h1 class="font-bold text-4xl">{{ .artist.Name }}</h1>
      <span class="font-medium bg-rose-500 rounded-md px-4"
        >{{ len .albums }} Albums</span
      >
    </div>
  </div>
  <div class="flex flex-col text-zinc-50">
    <div class="flex gap-8 border-b-zinc-400 border-b h-8 mb-8">
      <h2 class="border-b-rose-500 border-b-2 font-semibold">Discography</h2>
    </div>
    <div id="albums-group" class="flex flex-wrap gap-8">
      {{ $artist := .artist}} {{ $ParseDate := .ParseDate}} {{range $album :=
      .albums}}
      <div class="flex flex-col basis-80">
        <img
          style="::view-transition-group{ z-index: 0};view-transition-name: hero-{{ $album.Id }}; z-index: 0;"
          class="w-80 h-80 rounded-md drop-shadow-lg album-cover"
          src="/image/{{ $album.Img }}"
          lazy
        />
        <a
          hx-get="/album/{{ $album.Id }}"
          hx-target="#main"
          hx-select="#main"
          hx-swap="outerHTML transition:true"
          hx-push-url="true"
          class="font-medium cursor-pointer hover:underline"
          hx-indicator="#hx-progress-bar"
          >{{ $album.Name }}</a
        >
        <span class="font-light text-xs text-zinc-100">
          from {{ $artist.Name }}
        </span>
        <span class="font-light text-xs text-zinc-100">
          Released: {{ $album.ReleaseDate }}
        </span>
      </div>
      {{ end }}
    </div>
  </div>
</content>
{{ end }}
